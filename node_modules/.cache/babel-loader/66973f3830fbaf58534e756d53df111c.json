{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/junicodes/test/2021-senior-frontend-developer-mlybfy/src/components/Result/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styles from \"./Result.module.scss\";\nimport { useAppDispatch } from \"../../hooks/reduxhook\";\nimport { GET_USER_LIST_DATA_ASYNC_ACTION } from \"../../react-wrapper/redux/actions/userList\";\nimport UserListTable from \"../sub-components/UserListTable\";\nimport { FaArrowDown } from \"@react-icons/all-files/fa/FaArrowDown\";\nimport { FaArrowUp } from \"@react-icons/all-files/fa/FaArrowUp\";\nimport Button from \"../sub-components/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Result = _ref => {\n  _s();\n\n  var _payload$userList, _payload$userList2;\n\n  let {\n    payload\n  } = _ref;\n  //State\n  const [info, setInfo] = useState(null);\n  const [loaderInfo, setLoaderInfo] = useState({\n    status: false,\n    loader: \"\"\n  }); //Hooks\n\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setInfo(\"\");\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, [info]); //handler function\n\n  const handleNextpage = (e, action) => {\n    e.preventDefault();\n    action === 'last' && setInfo('Please note github only allow access to first 1000 login user if not authenticated');\n    if (payload.userList.total_count <= payload.per_page || Math.trunc(payload.userList.total_count / payload.per_page) === Math.trunc(payload.page)) return false;\n    setLoaderInfo({\n      status: true,\n      loader: 'Loading Next Page...'\n    });\n    triggerPageLoad(action === 'last' ? payload.userList.total_count / payload.per_page : payload.page + 1);\n  };\n\n  const handlePrevpage = (e, action) => {\n    e.preventDefault();\n    if (payload.page <= 1) return false;\n    setLoaderInfo({\n      status: true,\n      loader: 'Loading Prev Page...'\n    });\n    triggerPageLoad(action === 'first' ? 1 : payload.page - 1);\n  }; //triggerApi \n\n\n  const triggerPageLoad = page => {\n    //Simulate a temperary delay \n    const delay = setTimeout(async () => {\n      await dispatch(GET_USER_LIST_DATA_ASYNC_ACTION([payload.searchQuery, payload.per_page, page]));\n      setLoaderInfo({\n        status: false,\n        loader: ''\n      });\n    }, 500);\n    return () => clearTimeout(delay);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-testid\": \"result-component\",\n    className: \" h-full w-full flex flex-row justify-center items-start\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full px-8 xl:px-0 xl:w-4/6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-14`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-testid\": \"loading-new-page\",\n            className: `${loaderInfo.status ? styles.showloader : \"hidden\"} my-2 h-24`,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"animate-pulse text-md mt-2\",\n              children: loaderInfo.loader\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${styles.loader}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${styles.loaderBar}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto shadow-md sm:rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline-block min-w-full align-middle\",\n            children: [info && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-600\",\n                children: \"Important:\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 55\n              }, this), info]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-hidden \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Ascending\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 25\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(FaArrowUp, {\n                    title: \"Click to sort in descending order\",\n                    className: \"mt-1 w-3 h-3 cursor-pointer text-gray-300\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 31\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-pink-500\",\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 31\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Descending\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 25\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(FaArrowDown, {\n                    title: \"Click to sort in descending order\",\n                    className: \"mt-1 w-3 h-3 cursor-pointer text-gray-300\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 31\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-pink-500\",\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 31\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Sorted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 25\n                  }, this), \"(\", /*#__PURE__*/_jsxDEV(FaArrowUp, {\n                    title: \"Click to sort in descending order\",\n                    className: \"mt-1 w-3 h-3 cursor-pointer text-pink-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FaArrowDown, {\n                    title: \"Click to sort in descending order\",\n                    className: \"mt-1 w-3 h-3 cursor-pointer text-pink-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 29\n                  }, this), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                    \"data-testid\": \"page-view\",\n                    children: [\"Page: \", Math.trunc(payload.page)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 21\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-pink-500\",\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 27\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"Per Page: \", payload.per_page]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 21\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-pink-500\",\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 27\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"Total Loaded: \", Math.trunc(payload.page * payload.per_page)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-pink-500\",\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 27\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"Total Found: \", Math.trunc(payload.page * payload.userList.total_count)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(UserListTable, {\n                payload: payload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: (payload === null || payload === void 0 ? void 0 : (_payload$userList = payload.userList) === null || _payload$userList === void 0 ? void 0 : _payload$userList.items) && (payload === null || payload === void 0 ? void 0 : (_payload$userList2 = payload.userList) === null || _payload$userList2 === void 0 ? void 0 : _payload$userList2.items.length) <= 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg\",\n              children: \"No Login User Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onTriggerFunction: e => handlePrevpage(e, 'first'),\n            disabled: payload.page <= 1 ? true : false,\n            variant: `${payload.page <= 1 ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'}\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`,\n            btnText: \"First\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onTriggerFunction: e => handlePrevpage(e, 'prev'),\n            disabled: payload.page <= 1 ? true : false,\n            variant: `${payload.page <= 1 ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'}\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`,\n            btnText: \"Prev\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onTriggerFunction: e => handleNextpage(e, 'next'),\n            disabled: payload.userList.total_count <= payload.per_page || Math.trunc(payload.userList.total_count / payload.per_page) === Math.trunc(payload.page) ? true : false,\n            variant: `${payload.userList.total_count <= payload.per_page || Math.trunc(payload.userList.total_count / payload.per_page) === Math.trunc(payload.page) ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'}\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`,\n            btnText: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onTriggerFunction: e => handleNextpage(e, 'last'),\n            disabled: payload.userList.total_count <= payload.per_page || Math.trunc(payload.userList.total_count / payload.per_page) === Math.trunc(payload.page) ? true : false,\n            variant: `${payload.userList.total_count <= payload.per_page || Math.trunc(payload.userList.total_count / payload.per_page) === Math.trunc(payload.page) ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'}\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`,\n            btnText: \"Last\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Result, \"kLyvjA+9GI1GYAHWCko7VhbS7rA=\", false, function () {\n  return [useAppDispatch];\n});\n\n_c = Result;\nexport default Result;\n\nvar _c;\n\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"sources":["/Users/mac/Documents/junicodes/test/2021-senior-frontend-developer-mlybfy/src/components/Result/index.tsx"],"names":["React","useEffect","useState","styles","useAppDispatch","GET_USER_LIST_DATA_ASYNC_ACTION","UserListTable","FaArrowDown","FaArrowUp","Button","Result","payload","info","setInfo","loaderInfo","setLoaderInfo","status","loader","dispatch","timer","setTimeout","clearTimeout","handleNextpage","e","action","preventDefault","userList","total_count","per_page","Math","trunc","page","triggerPageLoad","handlePrevpage","delay","searchQuery","showloader","loaderBar","items","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styles from \"./Result.module.scss\";\nimport { useAppDispatch } from \"../../hooks/reduxhook\";\nimport { GET_USER_LIST_DATA_ASYNC_ACTION } from \"../../react-wrapper/redux/actions/userList\";\nimport { LoaderState, ResultProps } from \"./Interfaces\";\nimport UserListTable from \"../sub-components/UserListTable\";\nimport { FaArrowDown } from \"@react-icons/all-files/fa/FaArrowDown\";\nimport { FaArrowUp } from \"@react-icons/all-files/fa/FaArrowUp\";\nimport Button from \"../sub-components/Button\";\n\nconst Result = ({ payload }: ResultProps) => {\n\n  //State\n  const [info, setInfo] = useState<string | null>(null);\n  const [loaderInfo, setLoaderInfo] = useState<LoaderState>({\n      status: false,\n      loader: \"\"\n  });\n\n  //Hooks\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    const timer =setTimeout(() => {\n        setInfo(\"\")\n    }, 5000)\n\n    return () => clearTimeout(timer)\n  }, [info])\n  \n\n  //handler function\n  const handleNextpage = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>, action: string) => {\n        e.preventDefault();\n\n        action === 'last' && setInfo('Please note github only allow access to first 1000 login user if not authenticated')\n\n        if(payload.userList.total_count <= payload.per_page\n            || Math.trunc(payload.userList.total_count/payload.per_page) === Math.trunc(payload.page)) return false;\n\n        setLoaderInfo({status: true, loader: 'Loading Next Page...'});\n        triggerPageLoad(action === 'last' ? payload.userList.total_count/payload.per_page : payload.page + 1);\n  };\n\n    const handlePrevpage = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>, action: string) => {\n        e.preventDefault();\n        if(payload.page <= 1) return false;\n        \n        setLoaderInfo({status: true, loader: 'Loading Prev Page...'});\n        triggerPageLoad(action === 'first' ? 1 : payload.page - 1);\n    };\n\n    //triggerApi \n    const triggerPageLoad = (page: number) => {\n        //Simulate a temperary delay \n        const delay = setTimeout(async () => {\n            await dispatch(GET_USER_LIST_DATA_ASYNC_ACTION([payload.searchQuery, payload.per_page, page]));\n            setLoaderInfo({status: false, loader: ''});\n        }, 500);\n\n        return () => clearTimeout(delay);\n    }\n\n  return (\n    <div\n      data-testid=\"result-component\"\n      className=\" h-full w-full flex flex-row justify-center items-start\"\n    >\n      <div className=\"w-full px-8 xl:px-0 xl:w-4/6\">\n        <div className=\"flex flex-col\">\n          <div className={`h-14`}>\n            <div data-testid=\"loading-new-page\" className={`${loaderInfo.status ? styles.showloader : \"hidden\"} my-2 h-24`}>\n                <p className=\"animate-pulse text-md mt-2\">{loaderInfo.loader}</p>\n                <div className={`${styles.loader}`}>\n                    <div className={`${styles.loaderBar}`}></div>\n                </div>\n            </div>\n          </div>\n          <div className=\"overflow-x-auto shadow-md sm:rounded-lg\">\n            <div className=\"inline-block min-w-full align-middle\">\n              {\n                  info && <p className=\"text-xs mb-2\"><span className=\"text-red-600\">Important:&nbsp;</span>{info}</p>\n              }\n              <div className=\"overflow-hidden \">\n                <div className=\"flex justify-between mb-1\">\n                  <div className=\"flex justify-start\">\n                        \n                        <small>Ascending</small> \n                        &nbsp;<FaArrowUp\n                            title=\"Click to sort in descending order\"\n                            className=\"mt-1 w-3 h-3 cursor-pointer text-gray-300\"\n                        />\n                        &nbsp;<span className=\"text-pink-500\">|</span>&nbsp;\n                        <small>Descending</small> \n                        &nbsp;<FaArrowDown\n                            title=\"Click to sort in descending order\"\n                            className=\"mt-1 w-3 h-3 cursor-pointer text-gray-300\"\n                        />\n                        &nbsp;<span className=\"text-pink-500\">|</span>&nbsp;\n                        <small>Sorted</small>(\n                            <FaArrowUp\n                                title=\"Click to sort in descending order\"\n                                className=\"mt-1 w-3 h-3 cursor-pointer text-pink-500\"\n                            />\n                            <FaArrowDown\n                                title=\"Click to sort in descending order\"\n                                className=\"mt-1 w-3 h-3 cursor-pointer text-pink-500\"\n                            />\n                        )\n                  </div>\n                  <div className=\"flex justify-start\">\n                    <small data-testid=\"page-view\">Page: {Math.trunc(payload.page)}</small>\n                    &nbsp;<span className=\"text-pink-500\">|</span>&nbsp;\n                    <small>Per Page: {payload.per_page}</small>\n                    &nbsp;<span className=\"text-pink-500\">|</span>&nbsp;\n                    <small>Total Loaded: {Math.trunc(payload.page * payload.per_page)}</small>\n                    &nbsp;<span className=\"text-pink-500\">|</span>&nbsp;\n                    <small>Total Found: {Math.trunc(payload.page * payload.userList.total_count)}</small>\n                  </div>\n                </div>\n                <UserListTable payload={payload} />\n              </div>\n            </div>\n          </div>\n          {/* Show no login user found here */}\n          <div>\n            { payload?.userList?.items && payload?.userList?.items.length <= 0 && (\n                <div className=\"mt-5\">\n                    <p className=\"text-lg\">No Login User Found</p>\n                </div>\n            )}\n          </div>\n          <div className=\"flex justify-center items-center mt-4\">\n            <Button \n                onTriggerFunction={(e) => handlePrevpage(e, 'first')}\n                disabled={payload.page <= 1 ? true : false}\n                variant={`${payload.page <= 1 ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' \n                  : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'}\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`} \n                btnText=\"First\"\n            />\n            <Button \n                onTriggerFunction={(e) => handlePrevpage(e, 'prev')}\n                disabled={payload.page <= 1 ? true : false}\n                variant={`${payload.page <= 1 ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' \n                  : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'}\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`} \n                btnText=\"Prev\"\n            />\n            <Button \n                onTriggerFunction={(e) => handleNextpage(e, 'next')}\n                 disabled={\n                   payload.userList.total_count <= payload.per_page ||\n                   Math.trunc(payload.userList.total_count/payload.per_page) === Math.trunc(payload.page)\n                   ? true : false\n                }\n                variant={`${\n                    payload.userList.total_count <= payload.per_page ||\n                      Math.trunc(payload.userList.total_count/payload.per_page) === Math.trunc(payload.page) \n                      ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' \n                        : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'\n                    }\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`}  \n                btnText=\"Next\"\n            />\n            <Button \n                onTriggerFunction={(e) => handleNextpage(e, 'last')}\n                 disabled={\n                   payload.userList.total_count <= payload.per_page ||\n                   Math.trunc(payload.userList.total_count/payload.per_page) === Math.trunc(payload.page)\n                   ? true : false\n                }\n                variant={`${\n                    payload.userList.total_count <= payload.per_page ||\n                      Math.trunc(payload.userList.total_count/payload.per_page) === Math.trunc(payload.page) \n                      ? 'text-gray-200 hover:text-gray-200 border border-gray-200 cursor-not-allowed' \n                        : 'text-pink-500 hover:text-pink-700 border border-pink-500 hover:border-pink-700'\n                    }\n                  focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 py-1 text-center mr-2 cursor-pointer`} \n                btnText=\"Last\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Result;\n"]},"metadata":{},"sourceType":"module"}